<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_131) on Tue Nov 05 21:42:28 UTC 2019 -->
<title>LoadBalancer (grpc-all 1.25.0 API)</title>
<meta name="date" content="2019-11-05">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LoadBalancer (grpc-all 1.25.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":6,"i2":10,"i3":42,"i4":42,"i5":10,"i6":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LoadBalancer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../io/grpc/KnownLength.html" title="interface in io.grpc"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../io/grpc/LoadBalancer.CreateSubchannelArgs.html" title="class in io.grpc"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?io/grpc/LoadBalancer.html" target="_top">Frames</a></li>
<li><a href="LoadBalancer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.grpc</div>
<h2 title="Class LoadBalancer" class="title">Class LoadBalancer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>io.grpc.LoadBalancer</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../io/grpc/util/ForwardingLoadBalancer.html" title="class in io.grpc.util">ForwardingLoadBalancer</a></dd>
</dl>
<hr>
<br>
<pre><a href="../../io/grpc/ExperimentalApi.html" title="annotation in io.grpc">@ExperimentalApi</a>(<a href="../../io/grpc/ExperimentalApi.html#value--">value</a>="https://github.com/grpc/grpc-java/issues/1771")
 <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/concurrent.NotThreadSafe.html?is-external=true" title="class or interface in javax.annotation">@NotThreadSafe</a>
public abstract class <span class="typeNameLabel">LoadBalancer</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">A pluggable component that receives resolved addresses from <a href="../../io/grpc/NameResolver.html" title="class in io.grpc"><code>NameResolver</code></a> and provides the
 channel a usable subchannel when asked.

 <h3>Overview</h3>

 <p>A LoadBalancer typically implements three interfaces:
 <ol>
   <li><a href="../../io/grpc/LoadBalancer.html" title="class in io.grpc"><code>LoadBalancer</code></a> is the main interface.  All methods on it are invoked sequentially
       in the same <strong>synchronization context</strong> (see next section) as returned by
       <a href="../../io/grpc/LoadBalancer.Helper.html#getSynchronizationContext--"><code>LoadBalancer.Helper.getSynchronizationContext()</code></a>.  It receives the results
       from the <a href="../../io/grpc/NameResolver.html" title="class in io.grpc"><code>NameResolver</code></a>, updates of subchannels' connectivity states, and the
       channel's request for the LoadBalancer to shutdown.</li>
   <li><a href="../../io/grpc/LoadBalancer.SubchannelPicker.html" title="class in io.grpc"><code>SubchannelPicker</code></a> does the actual load-balancing work.  It selects
       a <a href="../../io/grpc/LoadBalancer.Subchannel.html" title="class in io.grpc"><code>Subchannel</code></a> for each new RPC.</li>
   <li><a href="../../io/grpc/LoadBalancer.Factory.html" title="class in io.grpc"><code>Factory</code></a> creates a new <a href="../../io/grpc/LoadBalancer.html" title="class in io.grpc"><code>LoadBalancer</code></a> instance.
 </ol>

 <p><a href="../../io/grpc/LoadBalancer.Helper.html" title="class in io.grpc"><code>Helper</code></a> is implemented by gRPC library and provided to <a href="../../io/grpc/LoadBalancer.Factory.html" title="class in io.grpc"><code>Factory</code></a>. It provides functionalities that a <code>LoadBalancer</code> implementation would typically
 need.

 <h3>The Synchronization Context</h3>

 <p>All methods on the <a href="../../io/grpc/LoadBalancer.html" title="class in io.grpc"><code>LoadBalancer</code></a> interface are called from a Synchronization Context,
 meaning they are serialized, thus the balancer implementation doesn't need to worry about
 synchronization among them.  <a href="../../io/grpc/LoadBalancer.Helper.html#getSynchronizationContext--"><code>LoadBalancer.Helper.getSynchronizationContext()</code></a>
 allows implementations to schedule tasks to be run in the same Synchronization Context, with or
 without a delay, thus those tasks don't need to worry about synchronizing with the balancer
 methods.
 
 <p>However, the actual running thread may be the network thread, thus the following rules must be
 followed to prevent blocking or even dead-locking in a network:

 <ol>

   <li><strong>Never block in the Synchronization Context</strong>.  The callback methods must
   return quickly.  Examples or work that must be avoided: CPU-intensive calculation, waiting on
   synchronization primitives, blocking I/O, blocking RPCs, etc.</li>

   <li><strong>Avoid calling into other components with lock held</strong>.  The Synchronization
   Context may be under a lock, e.g., the transport lock of OkHttp.  If your LoadBalancer has a
   lock, holds the lock in a callback method (e.g., <a href="../../io/grpc/LoadBalancer.html#handleSubchannelState-io.grpc.LoadBalancer.Subchannel-io.grpc.ConnectivityStateInfo-"><code>handleSubchannelState()</code></a>) while calling into another class that may involve locks, be cautious
   of deadlock.  Generally you wouldn't need any locking in the LoadBalancer.</li>

 </ol>

 <h3>The canonical implementation pattern</h3>

 <p>A <a href="../../io/grpc/LoadBalancer.html" title="class in io.grpc"><code>LoadBalancer</code></a> keeps states like the latest addresses from NameResolver, the
 Subchannel(s) and their latest connectivity states.  These states are mutated within the Channel
 Executor.

 <p>A typical <a href="../../io/grpc/LoadBalancer.SubchannelPicker.html" title="class in io.grpc"><code>SubchannelPicker</code></a> holds a snapshot of these states.  It may
 have its own states, e.g., a picker from a round-robin load-balancer may keep a pointer to the
 next Subchannel, which are typically mutated by multiple threads.  The picker should only mutate
 its own state, and should not mutate or re-acquire the states of the LoadBalancer.  This way the
 picker only needs to synchronize its own states, which is typically trivial to implement.

 <p>When the LoadBalancer states changes, e.g., Subchannels has become or stopped being READY, and
 we want subsequent RPCs to use the latest list of READY Subchannels, LoadBalancer would create
 a new picker, which holds a snapshot of the latest Subchannel list.  Refer to the javadoc of
 <a href="../../io/grpc/LoadBalancer.html#handleSubchannelState-io.grpc.LoadBalancer.Subchannel-io.grpc.ConnectivityStateInfo-"><code>handleSubchannelState()</code></a> how to do this properly.

 <p>No synchronization should be necessary between LoadBalancer and its pickers if you follow
 the pattern above.  It may be possible to implement in a different way, but that would usually
 result in more complicated threading.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.2.0</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/grpc/LoadBalancer.CreateSubchannelArgs.html" title="class in io.grpc">LoadBalancer.CreateSubchannelArgs</a></span></code>
<div class="block">Arguments for creating a <a href="../../io/grpc/LoadBalancer.Subchannel.html" title="class in io.grpc"><code>LoadBalancer.Subchannel</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/grpc/LoadBalancer.Factory.html" title="class in io.grpc">LoadBalancer.Factory</a></span></code>
<div class="block">Factory to create <a href="../../io/grpc/LoadBalancer.html" title="class in io.grpc"><code>LoadBalancer</code></a> instance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/grpc/LoadBalancer.Helper.html" title="class in io.grpc">LoadBalancer.Helper</a></span></code>
<div class="block">Provides essentials for LoadBalancer implementations.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/grpc/LoadBalancer.PickResult.html" title="class in io.grpc">LoadBalancer.PickResult</a></span></code>
<div class="block">A balancing decision made by <a href="../../io/grpc/LoadBalancer.SubchannelPicker.html" title="class in io.grpc"><code>SubchannelPicker</code></a> for an RPC.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/grpc/LoadBalancer.PickSubchannelArgs.html" title="class in io.grpc">LoadBalancer.PickSubchannelArgs</a></span></code>
<div class="block">Provides arguments for a <a href="../../io/grpc/LoadBalancer.SubchannelPicker.html#pickSubchannel-io.grpc.LoadBalancer.PickSubchannelArgs-"><code>LoadBalancer.SubchannelPicker.pickSubchannel(
 LoadBalancer.PickSubchannelArgs)</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/grpc/LoadBalancer.ResolvedAddresses.html" title="class in io.grpc">LoadBalancer.ResolvedAddresses</a></span></code>
<div class="block">Represents a combination of the resolved server address, associated attributes and a load
 balancing policy config.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/grpc/LoadBalancer.Subchannel.html" title="class in io.grpc">LoadBalancer.Subchannel</a></span></code>
<div class="block">A logical connection to a server, or a group of equivalent servers represented by an <a href="../../io/grpc/EquivalentAddressGroup.html" title="class in io.grpc"><code>EquivalentAddressGroup</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/grpc/LoadBalancer.SubchannelPicker.html" title="class in io.grpc">LoadBalancer.SubchannelPicker</a></span></code>
<div class="block">The main balancing logic.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/grpc/LoadBalancer.SubchannelStateListener.html" title="interface in io.grpc">LoadBalancer.SubchannelStateListener</a></span></code>
<div class="block">Receives state changes for one <a href="../../io/grpc/LoadBalancer.Subchannel.html" title="class in io.grpc"><code>LoadBalancer.Subchannel</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../io/grpc/Attributes.Key.html" title="class in io.grpc">Attributes.Key</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,?&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/grpc/LoadBalancer.html#ATTR_LOAD_BALANCING_CONFIG">ATTR_LOAD_BALANCING_CONFIG</a></span></code>
<div class="block">The load-balancing config converted from an JSON object injected by the GRPC library.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../io/grpc/LoadBalancer.html#LoadBalancer--">LoadBalancer</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/grpc/LoadBalancer.html#canHandleEmptyAddressListFromNameResolution--">canHandleEmptyAddressListFromNameResolution</a></span>()</code>
<div class="block">Whether this LoadBalancer can handle empty address group list to be passed to <a href="../../io/grpc/LoadBalancer.html#handleResolvedAddresses-io.grpc.LoadBalancer.ResolvedAddresses-"><code>handleResolvedAddresses(ResolvedAddresses)</code></a>.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/grpc/LoadBalancer.html#handleNameResolutionError-io.grpc.Status-">handleNameResolutionError</a></span>(<a href="../../io/grpc/Status.html" title="class in io.grpc">Status</a>&nbsp;error)</code>
<div class="block">Handles an error from the name resolution system.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/grpc/LoadBalancer.html#handleResolvedAddresses-io.grpc.LoadBalancer.ResolvedAddresses-">handleResolvedAddresses</a></span>(<a href="../../io/grpc/LoadBalancer.ResolvedAddresses.html" title="class in io.grpc">LoadBalancer.ResolvedAddresses</a>&nbsp;resolvedAddresses)</code>
<div class="block">Handles newly resolved server groups and metadata attributes from name resolution system.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/grpc/LoadBalancer.html#handleResolvedAddressGroups-java.util.List-io.grpc.Attributes-">handleResolvedAddressGroups</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../io/grpc/EquivalentAddressGroup.html" title="class in io.grpc">EquivalentAddressGroup</a>&gt;&nbsp;servers,
                           <a href="../../io/grpc/Attributes.html" title="class in io.grpc">Attributes</a>&nbsp;attributes)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">override <a href="../../io/grpc/LoadBalancer.html#handleResolvedAddresses-io.grpc.LoadBalancer.ResolvedAddresses-"><code>instead</code></a></span></div>
</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/grpc/LoadBalancer.html#handleSubchannelState-io.grpc.LoadBalancer.Subchannel-io.grpc.ConnectivityStateInfo-">handleSubchannelState</a></span>(<a href="../../io/grpc/LoadBalancer.Subchannel.html" title="class in io.grpc">LoadBalancer.Subchannel</a>&nbsp;subchannel,
                     <a href="../../io/grpc/ConnectivityStateInfo.html" title="class in io.grpc">ConnectivityStateInfo</a>&nbsp;stateInfo)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">This method will be removed.  Stop overriding it.  Instead, pass <a href="../../io/grpc/LoadBalancer.SubchannelStateListener.html" title="interface in io.grpc"><code>LoadBalancer.SubchannelStateListener</code></a> to <a href="../../io/grpc/LoadBalancer.Subchannel.html#start-io.grpc.LoadBalancer.SubchannelStateListener-"><code>LoadBalancer.Subchannel.start(io.grpc.LoadBalancer.SubchannelStateListener)</code></a> to receive Subchannel state
             updates</span></div>
</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/grpc/LoadBalancer.html#requestConnection--">requestConnection</a></span>()</code>
<div class="block">The channel asks the LoadBalancer to establish connections now (if applicable) so that the
 upcoming RPC may then just pick a ready connection without waiting for connections.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../io/grpc/LoadBalancer.html#shutdown--">shutdown</a></span>()</code>
<div class="block">The channel asks the load-balancer to shutdown.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="ATTR_LOAD_BALANCING_CONFIG">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ATTR_LOAD_BALANCING_CONFIG</h4>
<pre><a href="../../io/grpc/NameResolver.ResolutionResultAttr.html" title="annotation in io.grpc">@NameResolver.ResolutionResultAttr</a>
public static final&nbsp;<a href="../../io/grpc/Attributes.Key.html" title="class in io.grpc">Attributes.Key</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,?&gt;&gt; ATTR_LOAD_BALANCING_CONFIG</pre>
<div class="block">The load-balancing config converted from an JSON object injected by the GRPC library.

 <p><a href="../../io/grpc/NameResolver.html" title="class in io.grpc"><code>NameResolver</code></a>s should not produce this attribute.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="LoadBalancer--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LoadBalancer</h4>
<pre>public&nbsp;LoadBalancer()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="handleResolvedAddressGroups-java.util.List-io.grpc.Attributes-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleResolvedAddressGroups</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public&nbsp;void&nbsp;handleResolvedAddressGroups(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../io/grpc/EquivalentAddressGroup.html" title="class in io.grpc">EquivalentAddressGroup</a>&gt;&nbsp;servers,
                                                    <a href="../../io/grpc/NameResolver.ResolutionResultAttr.html" title="annotation in io.grpc">@NameResolver.ResolutionResultAttr</a>
                                                    <a href="../../io/grpc/Attributes.html" title="class in io.grpc">Attributes</a>&nbsp;attributes)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">override <a href="../../io/grpc/LoadBalancer.html#handleResolvedAddresses-io.grpc.LoadBalancer.ResolvedAddresses-"><code>instead</code></a></span></div>
<div class="block">Handles newly resolved server groups and metadata attributes from name resolution system.
 <code>servers</code> contained in <a href="../../io/grpc/EquivalentAddressGroup.html" title="class in io.grpc"><code>EquivalentAddressGroup</code></a> should be considered equivalent
 but may be flattened into a single list if needed.

 <p>Implementations should not modify the given <code>servers</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>servers</code> - the resolved server addresses, never empty.</dd>
<dd><code>attributes</code> - extra information from naming system.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.2.0</dd>
</dl>
</li>
</ul>
<a name="handleResolvedAddresses-io.grpc.LoadBalancer.ResolvedAddresses-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleResolvedAddresses</h4>
<pre>public&nbsp;void&nbsp;handleResolvedAddresses(<a href="../../io/grpc/LoadBalancer.ResolvedAddresses.html" title="class in io.grpc">LoadBalancer.ResolvedAddresses</a>&nbsp;resolvedAddresses)</pre>
<div class="block">Handles newly resolved server groups and metadata attributes from name resolution system.
 <code>servers</code> contained in <a href="../../io/grpc/EquivalentAddressGroup.html" title="class in io.grpc"><code>EquivalentAddressGroup</code></a> should be considered equivalent
 but may be flattened into a single list if needed.

 <p>Implementations should not modify the given <code>servers</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resolvedAddresses</code> - the resolved server addresses, attributes, and config.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.21.0</dd>
</dl>
</li>
</ul>
<a name="handleNameResolutionError-io.grpc.Status-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleNameResolutionError</h4>
<pre>public abstract&nbsp;void&nbsp;handleNameResolutionError(<a href="../../io/grpc/Status.html" title="class in io.grpc">Status</a>&nbsp;error)</pre>
<div class="block">Handles an error from the name resolution system.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>error</code> - a non-OK status</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.2.0</dd>
</dl>
</li>
</ul>
<a name="handleSubchannelState-io.grpc.LoadBalancer.Subchannel-io.grpc.ConnectivityStateInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleSubchannelState</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public&nbsp;void&nbsp;handleSubchannelState(<a href="../../io/grpc/LoadBalancer.Subchannel.html" title="class in io.grpc">LoadBalancer.Subchannel</a>&nbsp;subchannel,
                                              <a href="../../io/grpc/ConnectivityStateInfo.html" title="class in io.grpc">ConnectivityStateInfo</a>&nbsp;stateInfo)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">This method will be removed.  Stop overriding it.  Instead, pass <a href="../../io/grpc/LoadBalancer.SubchannelStateListener.html" title="interface in io.grpc"><code>LoadBalancer.SubchannelStateListener</code></a> to <a href="../../io/grpc/LoadBalancer.Subchannel.html#start-io.grpc.LoadBalancer.SubchannelStateListener-"><code>LoadBalancer.Subchannel.start(io.grpc.LoadBalancer.SubchannelStateListener)</code></a> to receive Subchannel state
             updates</span></div>
<div class="block">Handles a state change on a Subchannel.

 <p>The initial state of a Subchannel is IDLE. You won't get a notification for the initial IDLE
 state.

 <p>If the new state is not SHUTDOWN, this method should create a new picker and call <a href="../../io/grpc/LoadBalancer.Helper.html#updateBalancingState-io.grpc.ConnectivityState-io.grpc.LoadBalancer.SubchannelPicker-"><code>Helper.updateBalancingState()</code></a>.  Failing to do so may result in
 unnecessary delays of RPCs. Please refer to <a href="../../io/grpc/LoadBalancer.PickResult.html#withSubchannel-io.grpc.LoadBalancer.Subchannel-io.grpc.ClientStreamTracer.Factory-"><code>PickResult.withSubchannel()</code></a>'s javadoc for more information.

 <p>SHUTDOWN can only happen in two cases.  One is that LoadBalancer called <a href="../../io/grpc/LoadBalancer.Subchannel.html#shutdown--"><code>LoadBalancer.Subchannel.shutdown()</code></a> earlier, thus it should have already discarded this Subchannel.  The other
 is that Channel is doing a <a href="../../io/grpc/ManagedChannel.html#shutdownNow--"><code>forced shutdown</code></a> or has already
 terminated, thus there won't be further requests to LoadBalancer.  Therefore, the LoadBalancer
 usually don't need to react to a SHUTDOWN state.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>subchannel</code> - the involved Subchannel</dd>
<dd><code>stateInfo</code> - the new state</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.2.0</dd>
</dl>
</li>
</ul>
<a name="shutdown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public abstract&nbsp;void&nbsp;shutdown()</pre>
<div class="block">The channel asks the load-balancer to shutdown.  No more methods on this class will be called
 after this method.  The implementation should shutdown all Subchannels and OOB channels, and do
 any other cleanup as necessary.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.2.0</dd>
</dl>
</li>
</ul>
<a name="canHandleEmptyAddressListFromNameResolution--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canHandleEmptyAddressListFromNameResolution</h4>
<pre>public&nbsp;boolean&nbsp;canHandleEmptyAddressListFromNameResolution()</pre>
<div class="block">Whether this LoadBalancer can handle empty address group list to be passed to <a href="../../io/grpc/LoadBalancer.html#handleResolvedAddresses-io.grpc.LoadBalancer.ResolvedAddresses-"><code>handleResolvedAddresses(ResolvedAddresses)</code></a>.  The default implementation returns
 <code>false</code>, meaning that if the NameResolver returns an empty list, the Channel will turn
 that into an error and call <a href="../../io/grpc/LoadBalancer.html#handleNameResolutionError-io.grpc.Status-"><code>handleNameResolutionError(io.grpc.Status)</code></a>.  LoadBalancers that want to
 accept empty lists should override this method and return <code>true</code>.

 <p>This method should always return a constant value.  It's not specified when this will be
 called.</div>
</li>
</ul>
<a name="requestConnection--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>requestConnection</h4>
<pre>public&nbsp;void&nbsp;requestConnection()</pre>
<div class="block">The channel asks the LoadBalancer to establish connections now (if applicable) so that the
 upcoming RPC may then just pick a ready connection without waiting for connections.  This
 is triggered by <a href="../../io/grpc/ManagedChannel.html#getState-boolean-"><code>ManagedChannel.getState(true)</code></a>.

 <p>If LoadBalancer doesn't override it, this is no-op.  If it infeasible to create connections
 given the current state, e.g. no Subchannel has been created yet, LoadBalancer can ignore this
 request.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.22.0</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LoadBalancer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../io/grpc/KnownLength.html" title="interface in io.grpc"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../io/grpc/LoadBalancer.CreateSubchannelArgs.html" title="class in io.grpc"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?io/grpc/LoadBalancer.html" target="_top">Frames</a></li>
<li><a href="LoadBalancer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
